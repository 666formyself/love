<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘ä»¬çš„æ‹çˆ±çºªå¿µæ—¥</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #ffe6e6;
            color: #333;
            margin: 0;
            padding: 0;
            text-align: center;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }
        
        header {
            background-color: #ff4d4d;
            color: white;
            padding: 60px;
            border-radius: 25px 25px 0 0;
            animation: fadeInDown 1s ease-out;
        }
        
        h1 {
            margin: 0;
            font-size: 3.5em;
            animation: heartBeat 1.5s infinite;
        }
        
        .love-counter {
            background-color: white;
            padding: 50px;
            border-radius: 25px;
            margin: 50px 0;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            animation: zoomIn 1s ease-out;
        }
        
        .gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 35px;
            margin: 50px 0;
        }
        
        .gallery-item {
            width: 220px;
            height: 220px;
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            animation: fadeIn 0.5s ease-out;
        }
        
        .gallery-item:hover {
            transform: scale(1.05);
        }
        
        .gallery-item img, .gallery-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .memory-section {
            background-color: white;
            padding: 60px;
            border-radius: 25px;
            margin: 50px 0;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            text-align:center;
            animation: slideInLeft 1s ease-out;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .message-box {
            background-color: #fff9f9;
            border-left: 12px solid #ff4d4d;
            padding: 40px;
            margin: 40px 0;
            animation: fadeInUp 0.8s ease-out;
            text-align: left;
            width: 100%;
            max-width: 800px;
        }
        
        .message-date {
            font-size: 1.1em;
            color: #888;
            text-align: right;
        }
        
        .buttons-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 25px;
            margin: 50px 0;
            animation: bounceIn 1.2s;
        }
        
        button {
            background-color: #ff4d4d;
            color: white;
            border: none;
            padding: 25px 45px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1.5em;
            transition: all 0.3s;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            margin: 25px 20px;
        }
        
        button:hover {
            background-color: #e60000;
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.15);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        footer {
            margin-top: 80px;
            padding: 40px;
            color: #666;
            animation: fadeIn 2s;
            font-size: 1.4em;
        }
        
        /* å¼¹çª—æ ·å¼ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.7);
            animation: fadeIn 0.3s;
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 50px;
            border-radius: 25px;
            width: 90%;
            max-width: 800px;
            animation: zoomIn 0.3s;
            position: relative;
        }
        
        .close {
            color: #aaa;
            float: right;
            font-size: 45px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .close:hover {
            color: black;
        }
        
        textarea, input[type="text"], input[type="file"] {
            width: 100%;
            padding: 25px;
            margin: 25px 0;
            border: 4px solid #ddd;
            border-radius: 15px;
            box-sizing: border-box;
            font-size: 1.4em;
        }
        
        /* åŠ¨ç”»å…³é”®å¸§ */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                transform: scale(1);
            }
        }
        
        @keyframes heartBeat {
            0% {
                transform: scale(1);
            }
            5% {
                transform: scale(1.1);
            }
            10% {
                transform: scale(1);
            }
            15% {
                transform: scale(1.1);
            }
            20% {
                transform: scale(1);
            }
            100% {
                transform: scale(1);
            }
        }
        
        /* å¼•å¯¼æ­¥éª¤æ ·å¼ */
        .guide-step {
            position: fixed;
            background: rgba(255, 255, 255, 0.95);
            border: 5px solid #ff4d4d;
            border-radius: 25px;
            padding: 50px;
            box-shadow: 0 0 50px rgba(0,0,0,0.3);
            z-index: 2000;
            max-width: 550px;
            display: none;
        }
        
        .guide-step h3 {
            margin-top: 0;
            color: #ff4d4d;
            font-size: 2.2em;
        }
        
        .guide-step button {
            margin: 20px;
            padding: 20px 35px;
            font-size: 1.4em;
        }
        
        .guide-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1999;
            display: none;
        }
        
        /* éšè—æ¥å£åŒºåŸŸ */
        .hidden-api {
            display: none;
        }
        
        /* ç‰¹æ®Šæ•ˆæœ */
        .floating-hearts {
            position: fixed;
            pointer-events: none;
            z-index: 999;
        }
        
        .heart {
            position: absolute;
            font-size: 45px;
            color: #ff4d4d;
            animation: floatUp 5s linear forwards;
        }
        
        @keyframes floatUp {
            to {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* ä¸»é¡µåŒºåŸŸæ ·å¼ */
        .home-section {
            background-color: white;
            padding: 80px 60px;
            border-radius: 30px;
            margin: 60px 0;
            box-shadow: 0 12px 35px rgba(0,0,0,0.15);
            text-align: center;
            min-height: 700px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .home-content {
            margin: 50px 0;
            width: 100%;
        }
        
        .home-content h2 {
            font-size: 3.2em;
            margin-bottom: 50px;
            color: #ff4d4d;
        }
        
        .home-content p {
            font-size: 1.7em;
            margin-bottom: 60px;
            line-height: 1.6;
        }
        
        /* ä¸»ç•Œé¢å›¾ç‰‡æ ·å¼ */
        .main-image {
            max-width: 100%;
            max-height: 650px;
            border-radius: 30px;
            margin: 60px 0;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            animation: fadeIn 1.5s;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* ä¸»é¡µæŒ‰é’®æ ·å¼ */
        .home-buttons {
            margin: 60px 0;
        }
        
        .home-button {
            padding: 30px 60px;
            font-size: 1.7em;
            margin: 30px 25px;
            border-radius: 20px;
        }
        
        /* äº’åŠ¨ä½“éªŒåŒºåŸŸ */
        .experience-section {
            background-color: white;
            padding: 60px;
            border-radius: 30px;
            margin: 60px 0;
            box-shadow: 0 12px 30px rgba(0,0,0,0.1);
            text-align: center;
            min-height: 700px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .experience-content {
            margin: 60px 0;
            padding: 50px;
            display: flex;
            flex-direction: column;
            text-align: center;
            min-height: 500px;
            width: 100%;
        }
        
        .experience-content h2 {
            font-size: 2.7em;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .experience-content p {
            font-size: 1.6em;
            margin-bottom: 30px;
            line-height: 1.6;
            text-align: center;
        }
        
        .hidden {
            display: none;
        }
        
        .step-indicator {
            display: flex;
            justify-content: center;
            margin: 50px 0;
        }
        
        .step-dot {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background-color: #ddd;
            margin: 0 10px;
            transition: background-color 0.3s;
        }
        
        .step-dot.active {
            background-color: #ff4d4d;
        }
        
        /* å›åˆ°ä¸»é¡µæŒ‰é’®æ ·å¼ */
        #backToHome, #backToHomeFromExplore {
            background-color: #666;
            padding: 25px 40px;
            margin-top: 40px;
        }
        
        #backToHome:hover, #backToHomeFromExplore:hover {
            background-color: #444;
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.15);
        }
        
        /* å¤§æŒ‰é’®æ ·å¼ */
        #exploreMemories, #addNewMemory {
            padding: 30px 45px;
            font-size: 1.6em;
            margin: 30px;
        }
        
        /* æ–°å¢æ ·å¼ */
        .memory-section h2 {
            color: #ff4d4d;
            font-size: 2.7em;
            margin-bottom: 40px;
            text-align: center;
        }

        .messages-container {
            max-height: 600px;
            overflow-y: auto;
            padding-right: 25px;
            width: 100%;
        }

        .gallery-title {
            font-size: 2.2em;
            color: #ff4d4d;
            margin-bottom: 40px;
            font-weight: bold;
        }

        .gallery-subtitle {
            font-size: 1.5em;
            color: #666;
            margin-bottom: 50px;
        }

        .heart-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .heart-decoration {
            position: absolute;
            color: #ff4d4d;
            font-size: 40px;
            opacity: 0.3;
            z-index: 1;
        }

        .heart-decoration:nth-child(1) {
            top: 10%;
            left: 5%;
            animation: float 8s infinite ease-in-out;
        }

        .heart-decoration:nth-child(2) {
            top: 20%;
            right: 10%;
            animation: float 6s infinite ease-in-out 1s;
        }

        .heart-decoration:nth-child(3) {
            bottom: 15%;
            left: 15%;
            animation: float 7s infinite ease-in-out 2s;
        }

        .heart-decoration:nth-child(4) {
            bottom: 25%;
            right: 5%;
            animation: float 9s infinite ease-in-out 0.5s;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(10deg);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }
        
        /* ç¬¬ä¸€ç«™è§†é¢‘æ ·å¼ - å¢åŠ é«˜åº¦ä»¥å®Œæ•´æ˜¾ç¤ºè§†é¢‘ */
        .step-video {
            width: 95%;
            max-width: 750px;
            height: 450px; /* å¢åŠ å›ºå®šé«˜åº¦ä»¥ç¡®ä¿è§†é¢‘å®Œæ•´æ˜¾ç¤º */
            margin: 40px auto;
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 12px 30px rgba(0,0,0,0.2);
            position: relative;
            background-color: #000;
        }
        
        .step-video video {
            width: 100%;
            height: 100%;
            object-fit: contain; /* ä¿æŒè§†é¢‘æ¯”ä¾‹å®Œæ•´æ˜¾ç¤º */
        }
        
        .step-image {
            width: 95%;
            max-width: 750px;
            margin: 40px auto;
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 12px 30px rgba(0,0,0,0.2);
        }
        
        .step-image img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        /* è§†é¢‘æ’­æ”¾é”™è¯¯æç¤º */
        .video-error {
            color: #ff4d4d;
            font-size: 1.2em;
            margin: 20px 0;
            padding: 15px;
            background-color: #fff9f9;
            border-radius: 10px;
            display: none;
        }
        
        /* æ‹çˆ±è®¡æ—¶å™¨æ ·å¼ - æ”¾å¤§å­—ä½“å¹¶æ·»åŠ åŠ¨ç”» */
        .love-counter h2 {
            font-size: 2.5em;
            margin-bottom: 30px;
            color: #ff4d4d;
        }
        
        #counter {
            font-size: 2em; /* å¢å¤§å­—ä½“ */
            font-weight: bold;
            color: #333;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
        }
        
        .time-unit {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 100px;
            padding: 15px;
            background: linear-gradient(135deg, #fff9f9, #ffe6e6);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .time-unit::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #ff4d4d, #ff9999);
        }
        
        .time-value {
            font-size: 2.5em; /* æ•°å­—å­—ä½“æ›´å¤§ */
            font-weight: bold;
            color: #ff4d4d;
            margin-bottom: 5px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            animation: glow 2s infinite alternate;
        }
        
        .time-label {
            font-size: 1em;
            color: #666;
        }
        
        /* æ—¶é—´æ•°å­—å‘å…‰åŠ¨ç”» */
        @keyframes glow {
            from {
                text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            }
            to {
                text-shadow: 0 0 10px rgba(255, 77, 77, 0.5),
                             0 0 20px rgba(255, 77, 77, 0.3);
            }
        }
        
        /* æ—¶é—´å•ä½å…¥åœºåŠ¨ç”» */
        .time-unit {
            animation: timeUnitAppear 0.5s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        
        .time-unit:nth-child(1) { animation-delay: 0.1s; }
        .time-unit:nth-child(2) { animation-delay: 0.2s; }
        .time-unit:nth-child(3) { animation-delay: 0.3s; }
        .time-unit:nth-child(4) { animation-delay: 0.4s; }
        .time-unit:nth-child(5) { animation-delay: 0.5s; }
        .time-unit:nth-child(6) { animation-delay: 0.6s; }
        
        @keyframes timeUnitAppear {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* è·³åŠ¨æ•ˆæœ */
        .time-value.pulse {
            animation: timePulse 1s infinite;
        }
        
        @keyframes timePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* å¤šè§†é¢‘å®¹å™¨ */
        .multi-video-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        
        .multi-video-container .step-video {
            width: 45%;
            min-width: 300px;
            height: 250px;
            margin: 10px;
            background-color: #000;
        }
        
        /* é•¿æ–‡æœ¬å±•ç¤ºæ ·å¼ */
        .long-text-container {
            max-width: 800px;
            margin: 0 auto;
            text-align: left;
            font-size: 1.4em;
            line-height: 1.8;
            padding: 30px;
            background-color: #fff9f9;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .long-text-content {
            height: 400px;
            overflow-y: auto;
            padding: 20px;
            border: 2px solid #ffd6d6;
            border-radius: 15px;
            background-color: white;
        }
        
        .long-text-content p {
            margin-bottom: 20px;
            font-size: 1.2em;
            text-indent: 2em;
        }
        
        /* æ–‡æœ¬é˜…è¯»åŠ¨ç”» */
        .text-highlight {
            display: inline-block;
            background-color: #ffeb3b;
            animation: highlight 2s ease-in-out;
        }
        
        @keyframes highlight {
            0% {
                background-color: transparent;
            }
            50% {
                background-color: #ffeb3b;
            }
            100% {
                background-color: transparent;
            }
        }
        
        /* ä¿¡ä»¶æ ·å¼ */
        .letter-content {
            text-align: left;
            font-family: 'STKaiti', 'æ¥·ä½“', serif;
            line-height: 1.8;
            font-size: 1.3em;
        }
        
        .letter-content p {
            margin-bottom: 20px;
            text-indent: 2em;
        }
        
        .letter-content p:first-child {
            text-indent: 0;
        }
        
        .letter-signature {
            text-align: right;
            margin-top: 30px;
        }
        
        /* æ·»åŠ è§†é¢‘åŠ è½½æç¤ºæ ·å¼ */
        .play-hint {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 20px 30px;
            border-radius: 10px;
            cursor: pointer;
            z-index: 10;
            text-align: center;
            font-size: 18px;
        }
        
        .play-hint:hover {
            background: rgba(0,0,0,0.9);
        }
        
        .play-hint small {
            font-size: 14px;
            display: block;
            margin-top: 5px;
        }
        
        /* æ‰“å­—æœºæ•ˆæœ */
        .typewriter {
            overflow: hidden;
            border-right: .15em solid orange;
            white-space: pre-wrap;
            margin: 0 auto;
            letter-spacing: .15em;
            animation: typing 3.5s steps(30, end), blink-caret .5s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: orange; }
        }
        
        /* éŸ³ä¹æ§åˆ¶æŒ‰é’® */
        .music-control {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #ff4d4d;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
        }
        
        .music-control:hover {
            background-color: #e60000;
        }
        
        /* æ·»åŠ çƒŸèŠ±ç‰¹æ•ˆæ ·å¼ */
        .firework {
            position: fixed;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
        }

        .firework-particle {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="heart-container">
            <div class="heart-decoration">â¤</div>
            <div class="heart-decoration">â¤</div>
            <div class="heart-decoration">â¤</div>
            <div class="heart-decoration">â¤</div>
        </div>
        
        <header>
            <h1>â¤ï¸ æˆ‘ä»¬çš„æ‹çˆ±çºªå¿µæ—¥ â¤ï¸</h1>
            <p>ä»ç›¸é‡çš„é‚£ä¸€å¤©èµ·ï¼Œæ¯ä¸€å¤©éƒ½å› ä½ è€Œç¾å¥½</p>
        </header>
        
        <div class="love-counter">
            <h2>æˆ‘ä»¬å·²ç»åœ¨ä¸€èµ·</h2>
            <div id="counter">
                <div class="time-unit">
                    <span id="years" class="time-value">0</span>
                    <span class="time-label">å¹´</span>
                </div>
                <div class="time-unit">
                    <span id="months" class="time-value">0</span>
                    <span class="time-label">æœˆ</span>
                </div>
                <div class="time-unit">
                    <span id="days" class="time-value">0</span>
                    <span class="time-label">å¤©</span>
                </div>
                <div class="time-unit">
                    <span id="hours" class="time-value">0</span>
                    <span class="time-label">å°æ—¶</span>
                </div>
                <div class="time-unit">
                    <span id="minutes" class="time-value">0</span>
                    <span class="time-label">åˆ†é’Ÿ</span>
                </div>
                <div class="time-unit">
                    <span id="seconds" class="time-value">0</span>
                    <span class="time-label">ç§’</span>
                </div>
            </div>
        </div>
        
        <!-- ä¸»é¡µå†…å®¹åŒºåŸŸ -->
        <div id="homeSection" class="home-section">
            <div class="home-content">
                <h2>æ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„çºªå¿µæ—¥ç½‘ç«™</h2>
                <p>è¿™é‡Œè®°å½•äº†æˆ‘ä»¬åœ¨ä¸€èµ·çš„æ¯ä¸€ä¸ªç¾å¥½ç¬é—´</p>
                <img src="gifs/1.gif" alt="æˆ‘ä»¬çš„ç¾å¥½æ—¶å…‰" class="main-image">
                <div class="home-buttons">
                    <button id="startJourneyBtn" class="home-button">å¼€å§‹å›å¿†ä¹‹æ—…</button>
                </div>
            </div>
        </div>
        
        <!-- äº’åŠ¨ä½“éªŒåŒºåŸŸ -->
        <div class="step-indicator" id="stepIndicator" style="display: none;">
            <div class="step-dot active" id="dot1"></div>
            <div class="step-dot" id="dot2"></div>
            <div class="step-dot" id="dot3"></div>
            <div class="step-dot" id="dot4"></div>
            <div class="step-dot" id="dot5"></div>
            <div class="step-dot" id="dot6"></div>
            <div class="step-dot" id="dot7"></div>
            <div class="step-dot" id="dot8"></div>
            <div class="step-dot" id="dot9"></div>
        </div>
        
        <div class="experience-section">
            <div id="step1-content" class="experience-content hidden">
                <h2>æ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„çºªå¿µæ—¥ç½‘ç«™</h2>
                <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®å¼€å§‹æˆ‘ä»¬è¿™ä¸€å¹´çš„å›å¿†ä¹‹æ—…</p>
                <button id="startInteractiveJourneyBtn">å¼€å§‹æ—…ç¨‹</button>
            </div>
            
            <div id="step2-content" class="experience-content hidden">
                <h2>ç¬¬ä¸€ç«™ï¼šä¹æœˆé•‡æ±Ÿä¸€æ—¥æ¸¸</h2>
                <p>é‡‘å±±å¯ºå‰ï¼ŒåŒ—å›ºæ¥¼ä¸Šï¼Œè¥¿æ´¥æ¸¡é‡Œ</p>
                <div class="step-video">
                    <video id="video1" controls>
                        <source src="videos/video1.mp4" type="video/mp4">
                        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
                    </video>
                </div>
                <div class="video-error" id="videoError1">
                    è§†é¢‘åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„æˆ–æ ¼å¼æ˜¯å¦æ­£ç¡®ã€‚
                </div>
                <button id="nextToStep3">ç»§ç»­å›å¿†</button>
            </div>
            
            <div id="step3-content" class="experience-content hidden">
                <h2>ç¬¬äºŒç«™ï¼šä¸­ç§‹åˆè‚¥ä¹‹è¡Œ</h2>
                <p>å¤é€é¥æ´¥çš„ä¸›æ—ç©¿æ¢­æ˜¯å¦è®©ä½ ç•™ä¸‹æ·±åˆ»å°è±¡ï¼Ÿ</p>
                <p>ç…§ç‰‡æš‚æ— </p>
                <button id="nextToStep4">ç»§ç»­å›å¿†</button>
            </div>

             <div id="step4-content" class="experience-content hidden">
                <h2>ç¬¬ä¸‰ç«™ï¼šåœæœºåªæ—çš„æ ¼æ¡‘èŠ±</h2>
                <p>å›½å¥–ç­”è¾©åçš„ä½³å€©ï¼Œç¾ç¾å“’</p>
                <div class="step-video">
                    <video id="video2" controls>
                        <source src="videos/video2.mp4" type="video/mp4">
                        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
                    </video>
                </div>
                <div class="video-error" id="videoError2">
                    è§†é¢‘åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„æˆ–æ ¼å¼æ˜¯å¦æ­£ç¡®ã€‚
                </div>
                <button id="nextToStep5">ç»§ç»­å›å¿†</button>
            </div>
             <div id="step5-content" class="experience-content hidden">
                <h2>ç¬¬å››ç«™ï¼šè¥¿å®‰åŸå¢™</h2>
                <p>ä¹ˆä¹ˆ</p>
                 <div class="step-image">
                    <img src="images/2.jpg" alt="è¥¿å®‰åŸå¢™">
                </div>
                <button id="nextToStep6">ç»§ç»­å›å¿†</button>
            </div>
            <div id="step6-content" class="experience-content hidden">
                <h2>ç¬¬äº”ç«™ï¼šæ –éœå±±</h2>
                <p>çº¢æ«æ¼«å¤©ï¼Œå€©å½±ç‹¬ç«‹</p>
                <div class="step-video">
                    <video id="video3" controls>
                        <source src="videos/video3.mp4" type="video/mp4">
                        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
                    </video>
                </div>
                <div class="video-error" id="videoError3">
                    è§†é¢‘åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„æˆ–æ ¼å¼æ˜¯å¦æ­£ç¡®ã€‚
                </div>
                <button id="nextToStep7">ç»§ç»­å›å¿†</button>
            </div>
            <div id="step7-content" class="experience-content hidden">
                <h2>ç¬¬å…­ç«™ï¼šè‹å·å›­æ—</h2>
                <p>çœ‹çœ‹å°æ¡¥æµæ°´äººå®¶</p>
                <div class="step-video">
                    <video id="video4" controls>
                        <source src="videos/video4.mp4" type="video/mp4">
                        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
                    </video>
                </div>
                <div class="video-error" id="videoError4">
                    è§†é¢‘åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„æˆ–æ ¼å¼æ˜¯å¦æ­£ç¡®ã€‚
                </div>
                 <button id="nextToStep8">ç»§ç»­å›å¿†</button>
            </div>
             <div id="step8-content" class="experience-content hidden">
                <h2>ç¬¬ä¸ƒç«™ï¼šæ˜¥å¯’æ–™å³­çš„äº‘å—</h2>
                <p>è§è¿‡é£èŠ±é›ªæœˆï¼Œç¯ç»•æ´±æµ·ï¼Œåœ¨ç‰é¾™é›ªå±±è„šä¸‹æ„Ÿå—çº³è¥¿æ—çš„ä¿¡ä»°</p>
                <div class="multi-video-container">
                    <div class="step-video">
                        <video id="video5" controls>
                            <source src="videos/video5.mp4" type="video/mp4">
                            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
                        </video>
                    </div>
                    <div class="step-video">
                        <video id="video6" controls>
                            <source src="videos/video6.mp4" type="video/mp4">
                            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
                        </video>
                    </div>
                    <div class="step-video">
                        <video id="video7" controls>
                            <source src="videos/video7.mp4" type="video/mp4">
                            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
                        </video>
                    </div>
                </div>
                 <button id="nextToStep9">ç»§ç»­å›å¿†</button>
            </div>

            <div id="step9-content" class="experience-content hidden">
                <h2>ç¬¬å…«ç«™ï¼šæˆ‘æƒ³å¯¹ä½ è¯´</h2>
                <div class="long-text-container">
                    <div class="long-text-content" id="longTextContent">
                        <div class="letter-content" id="letterContent"></div>
                    </div>
                </div>
                <button id="toggleMusic" class="music-control">æ’­æ”¾/æš‚åœéŸ³ä¹</button>
                <button id="finishJourney">ç»“æŸå›å¿†ä¹‹æ—…</button>
            </div>
        </div>
        
        <!-- éšè—çš„éŸ³ä¹å…ƒç´  -->
        <audio id="backgroundMusic" loop>
            <source src="music/1.mp3" type="audio/mpeg">
        </audio>
    </div>
    
    <!-- éšè—çš„APIæ¥å£åŒºåŸŸ -->
    <div class="hidden-api">
        <!-- ç®¡ç†å‘˜æ¥å£ -->
        <div id="admin-api">
            <!-- æ·»åŠ é¢„è®¾å†…å®¹çš„æ¥å£ -->
            <button id="addPresetPhoto" data-src="https://via.placeholder.com/150?text=é¢„è®¾ç…§ç‰‡1" data-caption="é¢„è®¾ç…§ç‰‡æè¿°">æ·»åŠ é¢„è®¾ç…§ç‰‡</button>
            <button id="addPresetMessage" data-text="è¿™æ˜¯é€šè¿‡APIæ·»åŠ çš„é¢„è®¾æ¶ˆæ¯" data-date="2023-10-01">æ·»åŠ é¢„è®¾æ¶ˆæ¯</button>
            
            <!-- åˆ é™¤å†…å®¹çš„æ¥å£ -->
            <button id="clearAllPhotos">æ¸…ç©ºæ‰€æœ‰ç…§ç‰‡</button>
            <button id="clearAllMessages">æ¸…ç©ºæ‰€æœ‰æ¶ˆæ¯</button>
            
            <!-- æ›´æ–°è®¡æ•°å™¨èµ·å§‹æ—¥æœŸ -->
            <button id="updateStartDate" data-date="2023-08-01">æ›´æ–°èµ·å§‹æ—¥æœŸ</button>
        </div>
    </div>
    
    <footer>
        <p>ç”¨å¿ƒåˆ¶ä½œçš„æ‹çˆ±çºªå¿µæ—¥ç½‘é¡µ Â· Â© 2025</p>
    </footer>
    
    <script>
        // è®¡ç®—æ‹çˆ±æ—¶é•¿
        function updateLoveCounter() {
            // è®¾ç½®ä½ ä»¬çš„æ‹çˆ±å¼€å§‹æ—¥æœŸ (å¹´, æœˆ-1, æ—¥)
            const startDate = new Date(2023, 7, 1); // 2023å¹´8æœˆ1æ—¥ï¼ˆæ³¨æ„ï¼šæœˆä»½ä»0å¼€å§‹è®¡ç®—ï¼‰
            
            const now = new Date();
            
            // è®¡ç®—å¹´ä»½å·®
            let years = now.getFullYear() - startDate.getFullYear();
            // è®¡ç®—æœˆä»½å·®
            let months = now.getMonth() - startDate.getMonth();
            // è®¡ç®—æ—¥æœŸå·®
            let days = now.getDate() - startDate.getDate();
            
            // è°ƒæ•´è´Ÿæ•°æƒ…å†µ
            if (days < 0) {
                months--;
                // è·å–ä¸Šä¸ªæœˆçš„å¤©æ•°
                const prevMonth = new Date(now.getFullYear(), now.getMonth(), 0);
                days += prevMonth.getDate();
            }
            
            if (months < 0) {
                years--;
                months += 12;
            }
            
            // è®¡ç®—å°æ—¶ã€åˆ†é’Ÿå’Œç§’
            const diff = now - startDate;
            const totalHours = Math.floor(diff / (1000 * 60 * 60));
            const hours = totalHours % 24;
            const minutes = Math.floor(diff / (1000 * 60)) % 60;
            const seconds = Math.floor(diff / 1000) % 60;
            
            // æ›´æ–°é¡µé¢æ˜¾ç¤º
            document.getElementById('years').textContent = years;
            document.getElementById('months').textContent = months;
            document.getElementById('days').textContent = days;
            document.getElementById('hours').textContent = hours;
            document.getElementById('minutes').textContent = minutes;
            document.getElementById('seconds').textContent = seconds;
            
            // ä¸ºæ¯ç§’å˜åŒ–çš„æ•°å­—æ·»åŠ è·³åŠ¨æ•ˆæœ
            const secondsElement = document.getElementById('seconds');
            secondsElement.classList.add('pulse');
            setTimeout(() => {
                secondsElement.classList.remove('pulse');
            }, 500);
            
            // æ£€æŸ¥æ˜¯å¦è¾¾åˆ°ä¸¤å‘¨å¹´
            checkAnniversary(years, months, days);
        }
        
        // æ£€æŸ¥æ˜¯å¦è¾¾åˆ°ä¸¤å‘¨å¹´
        function checkAnniversary(years, months, days) {
            // ç¡®ä¿æ˜¯æ­£å¥½ä¸¤å¹´ï¼Œå¹¶ä¸”åªè§¦å‘ä¸€æ¬¡
            if (years === 2 && months === 0 && days === 0 && !window.anniversaryCelebrated) {
                window.anniversaryCelebrated = true;
                celebrateAnniversary();
            }
        }
        
        // åˆ›å»ºçƒŸèŠ±ç‰¹æ•ˆ
        function createFirework(x, y) {
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ffffff'];
            const firework = document.createElement('div');
            firework.className = 'firework';
            firework.style.left = x + 'px';
            firework.style.top = y + 'px';
            document.body.appendChild(firework);

            // åˆ›å»ºçƒŸèŠ±ç²’å­
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'firework-particle';
                const color = colors[Math.floor(Math.random() * colors.length)];
                particle.style.backgroundColor = color;
                particle.style.transform = `rotate(${Math.random() * 360}deg)`;
                firework.appendChild(particle);

                // ç²’å­åŠ¨ç”»
                const angle = Math.random() * Math.PI * 2;
                const velocity = 2 + Math.random() * 3;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;
                const size = 2 + Math.random() * 3;
                
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                particle.style.opacity = 1;
                
                // ä½¿ç”¨åŠ¨ç”»å®ç°çƒŸèŠ±æ•ˆæœ
                const animation = particle.animate([
                    { 
                        transform: 'translate(0, 0) scale(1)',
                        opacity: 1
                    },
                    { 
                        transform: `translate(${vx * 50}px, ${vy * 50}px) scale(0)`,
                        opacity: 0
                    }
                ], {
                    duration: 1000 + Math.random() * 1000,
                    easing: 'cubic-bezier(0, .9, .57, 1)'
                });

                animation.onfinish = () => {
                    particle.remove();
                };
            }

            // çƒŸèŠ±ä¸»ä½“åŠ¨ç”»
            const fireworkAnimation = firework.animate([
                { transform: 'scale(1)', opacity: 1 },
                { transform: 'scale(0)', opacity: 0 }
            ], {
                duration: 300
            });

            fireworkAnimation.onfinish = () => {
                firework.remove();
            };
        }

        // åº†ç¥ä¸¤å‘¨å¹´
        function celebrateAnniversary() {
            // åˆ›å»ºå¤šä¸ªçƒŸèŠ±
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const x = Math.random() * window.innerWidth;
                    const y = Math.random() * window.innerHeight / 2;
                    createFirework(x, y);
                }, i * 300);
            }
            
            // æ˜¾ç¤ºåº†ç¥æ¶ˆæ¯
            const celebrationMessage = document.createElement('div');
            celebrationMessage.style.position = 'fixed';
            celebrationMessage.style.top = '50%';
            celebrationMessage.style.left = '50%';
            celebrationMessage.style.transform = 'translate(-50%, -50%)';
            celebrationMessage.style.backgroundColor = 'rgba(255, 255, 255, 0.9)';
            celebrationMessage.style.padding = '30px 50px';
            celebrationMessage.style.borderRadius = '20px';
            celebrationMessage.style.boxShadow = '0 0 30px rgba(255, 77, 77, 0.8)';
            celebrationMessage.style.zIndex = '9999';
            celebrationMessage.style.textAlign = 'center';
            celebrationMessage.style.fontSize = '2.5em';
            celebrationMessage.style.color = '#ff4d4d';
            celebrationMessage.style.fontWeight = 'bold';
            celebrationMessage.innerHTML = 'ğŸ‰ ä¸¤å‘¨å¹´å¿«ä¹ï¼ ğŸ‰<br><span style="font-size: 0.7em; margin-top: 10px; display: block;">ä¸¤å¹´çš„æ—¶å…‰ï¼Œæ„Ÿè°¢æœ‰ä½ </span>';
            document.body.appendChild(celebrationMessage);
            
            // 5ç§’åç§»é™¤åº†ç¥æ¶ˆæ¯
            setTimeout(() => {
                celebrationMessage.remove();
            }, 5000);
        }
        
        // åˆå§‹åŒ–å‘¨å¹´åº†ç¥çŠ¶æ€
        window.anniversaryCelebrated = false;
        
        // æ”¹è¿›çš„è§†é¢‘æ’­æ”¾æ£€æŸ¥å‡½æ•°
        function checkVideoPlayback() {
            const videos = document.querySelectorAll('video');
            videos.forEach((video, index) => {
                const errorDiv = document.getElementById(`videoError${index + 1}`);
                if (video && errorDiv) {
                    // æ·»åŠ æ›´å¤šäº‹ä»¶ç›‘å¬å™¨
                    video.addEventListener('error', function(e) {
                        console.log('è§†é¢‘åŠ è½½é”™è¯¯:', e);
                        console.log('é”™è¯¯ä»£ç :', video.error?.code);
                        errorDiv.style.display = 'block';
                        errorDiv.innerHTML = `è§†é¢‘åŠ è½½å¤±è´¥ (${video.error?.code || 'æœªçŸ¥é”™è¯¯'})<br>è¯·æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨æˆ–æ ¼å¼æ˜¯å¦æ”¯æŒ`;
                    });
                    
                    video.addEventListener('loadeddata', function() {
                        errorDiv.style.display = 'none';
                    });
                    
                    // æ·»åŠ åŠ è½½çŠ¶æ€æ£€æŸ¥
                    video.addEventListener('loadstart', function() {
                        console.log('å¼€å§‹åŠ è½½è§†é¢‘');
                    });
                    
                    video.addEventListener('canplay', function() {
                        console.log('è§†é¢‘å¯ä»¥æ’­æ”¾');
                    });
                }
            });
        }
        
        // æ”¹è¿›çš„è§†é¢‘æ’­æ”¾å‡½æ•°
        function playVideoWithHandling(video) {
            if (!video) return;
            
            // å…ˆå°è¯•é™éŸ³æ’­æ”¾ï¼ˆç»•è¿‡è‡ªåŠ¨æ’­æ”¾é™åˆ¶ï¼‰
            video.muted = true;
            const playPromise = video.play();
            
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    // æ’­æ”¾æˆåŠŸåæ·»åŠ ç”¨æˆ·äº¤äº’å–æ¶ˆé™éŸ³
                    video.addEventListener('click', function() {
                        video.muted = false;
                    }, { once: true });
                }).catch(error => {
                    console.log('æ’­æ”¾å¤±è´¥:', error);
                    // æ˜¾ç¤ºæ’­æ”¾æç¤º
                    showPlayHint(video);
                });
            }
        }
        
        // æ˜¾ç¤ºæ’­æ”¾æç¤º
        function showPlayHint(videoElement) {
            const container = videoElement.parentNode;
            let hint = container.querySelector('.play-hint');
            
            if (!hint) {
                hint = document.createElement('div');
                hint.className = 'play-hint';
                hint.innerHTML = `
                    â–¶ ç‚¹å‡»æ’­æ”¾è§†é¢‘
                    <small>å¦‚æœæ— æ³•æ’­æ”¾ï¼Œè¯·æ£€æŸ¥è§†é¢‘æ–‡ä»¶</small>
                `;
                hint.onclick = () => {
                    videoElement.muted = false;
                    videoElement.play().catch(e => console.log('æ‰‹åŠ¨æ’­æ”¾å¤±è´¥:', e));
                    hint.remove();
                };
                container.style.position = 'relative';
                container.appendChild(hint);
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåæ£€æŸ¥è§†é¢‘
        window.addEventListener('load', function() {
            checkVideoPlayback();
            
            // é¢„åŠ è½½å…³é”®è§†é¢‘
            const keyVideos = [
                document.getElementById('video1'),
                document.getElementById('video2')
            ];
            
            keyVideos.forEach(video => {
                if (video) {
                    // è®¾ç½®é¢„åŠ è½½å±æ€§
                    video.preload = 'metadata';
                }
            });
        });
        
        // äº’åŠ¨ä½“éªŒæ­¥éª¤æ§åˆ¶
        let currentStep = 1;
        let currentVideos = []; // ç”¨äºè·Ÿè¸ªå½“å‰æ’­æ”¾çš„è§†é¢‘
        let videoSequence = []; // ç”¨äºè·Ÿè¸ªç¬¬ä¸ƒç«™çš„è§†é¢‘åºåˆ—
        let backgroundMusic = document.getElementById('backgroundMusic');
        let isMusicPlaying = false;
        
        function updateStepIndicator(step) {
            // æ›´æ–°æ­¥éª¤æŒ‡ç¤ºå™¨ä»¥æ”¯æŒ9ä¸ªæ­¥éª¤
            for (let i = 1; i <= 9; i++) {
                const dot = document.getElementById(`dot${i}`);
                if (dot) {
                    if (i <= step) {
                        dot.classList.add('active');
                    } else {
                        dot.classList.remove('active');
                    }
                }
            }
        }
        
        function showStep(step) {
            // åœæ­¢å½“å‰æ’­æ”¾çš„è§†é¢‘
            currentVideos.forEach(video => {
                if (video) {
                    video.pause();
                }
            });
            currentVideos = [];
            
            // æ¸…é™¤è§†é¢‘åºåˆ—
            videoSequence = [];
            
            // éšè—æ‰€æœ‰æ­¥éª¤å†…å®¹ (æ›´æ–°åˆ°step9)
            for (let i = 1; i <= 9; i++) {
                const stepElement = document.getElementById(`step${i}-content`);
                if (stepElement) {
                    stepElement.classList.add('hidden');
                }
            }
            
            // æ˜¾ç¤ºå½“å‰æ­¥éª¤
            const currentStepElement = document.getElementById(`step${step}-content`);
            if (currentStepElement) {
                currentStepElement.classList.remove('hidden');
                
                // å¦‚æœæ˜¯è§†é¢‘æ­¥éª¤ï¼Œè‡ªåŠ¨æ’­æ”¾è§†é¢‘
                if (step === 2) {
                    const video = document.getElementById('video1');
                    if (video) {
                        setTimeout(() => {
                            playVideoWithHandling(video);
                            currentVideos.push(video);
                        }, 100);
                    }
                } else if (step === 4) {
                    const video = document.getElementById('video2');
                    if (video) {
                        setTimeout(() => {
                            playVideoWithHandling(video);
                            currentVideos.push(video);
                        }, 100);
                    }
                } else if (step === 6) {
                    const video = document.getElementById('video3');
                    if (video) {
                        setTimeout(() => {
                            playVideoWithHandling(video);
                            currentVideos.push(video);
                        }, 100);
                    }
                } else if (step === 7) {
                    const video = document.getElementById('video4');
                    if (video) {
                        setTimeout(() => {
                            playVideoWithHandling(video);
                            currentVideos.push(video);
                        }, 100);
                    }
                } else if (step === 8) {
                    // ç¬¬ä¸ƒç«™ï¼šæŒ‰é¡ºåºæ’­æ”¾ä¸‰ä¸ªè§†é¢‘
                    playVideosInSequence();
                } else if (step === 9) {
                    // åœ¨é•¿æ–‡æœ¬é¡µé¢æ·»åŠ æ‰“å­—æœºæ•ˆæœ
                    typeWriterEffect();
                }
            }
            
            // æ›´æ–°æ­¥éª¤æŒ‡ç¤ºå™¨
            updateStepIndicator(step);
            
            currentStep = step;
        }
        
        // æŒ‰é¡ºåºæ’­æ”¾ç¬¬ä¸ƒç«™çš„ä¸‰ä¸ªè§†é¢‘
        function playVideosInSequence() {
            const videos = [
                document.getElementById('video5'),
                document.getElementById('video6'),
                document.getElementById('video7')
            ];
            
            // å…ˆéšè—æ‰€æœ‰è§†é¢‘
            videos.forEach(video => {
                if (video) {
                    video.style.display = 'none';
                }
            });
            
            // æŒ‰é¡ºåºæ’­æ”¾è§†é¢‘
            playNextVideo(0);
            
            function playNextVideo(index) {
                if (index >= videos.length) return;
                
                const video = videos[index];
                if (video) {
                    // æ˜¾ç¤ºå½“å‰è§†é¢‘
                    video.style.display = 'block';
                    
                    // æ’­æ”¾è§†é¢‘
                    playVideoWithHandling(video);
                    currentVideos.push(video);
                    
                    // ç›‘å¬è§†é¢‘ç»“æŸäº‹ä»¶
                    video.addEventListener('ended', function onEnded() {
                        video.removeEventListener('ended', onEnded);
                        // æ’­æ”¾ä¸‹ä¸€ä¸ªè§†é¢‘
                        playNextVideo(index + 1);
                    }, { once: true });
                }
            }
        }
        
        // æ‰“å­—æœºæ•ˆæœ
        function typeWriterEffect() {
            const letterContent = document.getElementById('letterContent');
            const text = `äº²çˆ±çš„ä½³å€©å®å®ï¼š

æ²¡æƒ³åˆ°è¿™ä¹ˆå¿«åˆæ˜¯ä¸€å¹´è¿‡å»äº†ï¼Œæ¯æ¬¡å†™ä¿¡éƒ½ä¸ç¦æ„Ÿå¹å²æœˆå¦‚æ¢­ï¼Œè½¬çœ¼æˆ‘ä»¬æºæ‰‹å…±åŒèµ°è¿‡äº†ç¬¬äºŒå¹´ã€‚è¿™ä¸€å¹´é‡Œï¼Œä¹Ÿæ˜¯ç»å†äº†å¾ˆå¤šæ•…äº‹ï¼Œå»äº†ä¸å°‘åœ°æ–¹ã€‚

åœ¨é•‡æ±Ÿï¼Œå»é‡‘å±±å¯ºå›é¡¾äº†ç™½è›‡ä¼ çš„ä¼ è¯´æ•…äº‹ï¼Œåœ¨åŒ—å›ºæ¥¼åŒè¯—äººä¸€èµ·æœ›æ±Ÿæ€€å¤ã€‚åœ¨åˆè‚¥ï¼Œä½³å€©ä¹Ÿé¼“èµ·å‹‡æ°”ä½“éªŒäº†åˆºæ¿€çš„ä¸›æ—ç©¿è¶Šï¼Œå…‹æœè‡ªå·±çš„ææƒ§ï¼Œåœ¨çœåšæ„Ÿå—çš–çš„ä¸‡å¹´å†å²æ¸Šæºã€‚

æˆ‘ä»¬åˆå»äº†è¥¿å®‰ï¼Œä¸€èµ·æé™å‡†å¤‡æ¯”èµ›ï¼Œåˆæ¸¸å†äº†å¤éƒ½çš„é¼“æ¥¼ï¼Œèµ°ä¸Šè¥¿å®‰çš„åŸå¢™ï¼Œåœ¨ä¸å¤œåŸå‰èµ°è¿‡å¤§é›å¡”ã€‚å¿™é‡Œå·é—²æ—¶ï¼Œå—äº¬æ –éœå±±ã€åŠ¨ç‰©å›­ã€åšç‰©é™¢ï¼Œæ«å¶çš„çº¢ï¼Œæ˜ å‡ºä½ çš„ç¾ï¼Œçƒ­æƒ…å´ä¸å¼ æ‰¬ã€‚

å¯’å‡åˆæ—¶è‹å·ï¼Œå›­æ—çš„é‡å³¦å å¶‚ï¼Œå¦‚çˆ±èˆ¬ç™¾è½¬åƒå›ï¼Œå°æ¡¥æµæ°´å‰ï¼Œäººæ½®æ±¹æ¶Œï¼Œä½†ä½ åœ¨å…¶ä¸­æ°¸è¿œé—ªè€€ï¼Œæˆ‘çš„ç›®å…‰æ°¸ç›¸éšç€ã€‚äº‘å—ä¸€å‘¨æ¸¸ï¼Œæˆ‘ä»¬é£å‘è‡ªç„¶ä¹‹åœ°ï¼Œèµ°è¿‡é£èŠ±é›ªæœˆï¼Œè§è¯äº†ç‰é¾™é›ªå±±çš„ä¿¡ä»°æ•…äº‹ã€‚

è·¯ä¸Šçš„é£æ™¯å¾ˆå¤šï¼Œå¾ˆç¾ï¼Œä½†ä¸æˆ‘è€Œè¨€ï¼Œä¸‡åƒé£æ™¯ä¸æ•Œä½ ï¼Œç¾æ™¯ä¸æ˜¯æˆ‘æ‰€è¿½æ±‚çš„ï¼Œæˆ‘æƒ³è¦çš„æ˜¯ä¸ä½ åŒæ¸¸è¿™ä¸–é—´ã€‚

æˆ‘çŸ¥é“ä½³å€©å®å®æ˜¯ä¸€ä¸ªæœ‰å‹‡æ°”å’Œä¿¡å¿ƒçš„äººï¼Œæœ‰ç€è‡ªå·±çš„è¿½æ±‚å’ŒåšæŒï¼Œæ¢¦æƒ³å¾ˆå¤§ï¼Œæˆ‘ä»¬ä¸€èµ·å»é—¯ã€‚é’æ˜¥çš„é”‹èŠ’ä¸éœ²ï¼Œåªä¼šå–Ÿå¹ç¾äººè¿Ÿæš®ã€‚æˆ‘ä¹ŸçŸ¥é“ä½³å€©å®å®æ˜¯ä¸€ä¸ªèƒ†å°è°¨æ…çš„äººï¼Œæœ‰ç€è‡ªå·±çš„ç•æƒ§å’Œæ‹…å¿§ï¼Œæœªæ¥å¾ˆé•¿ï¼Œæˆ‘ä»¬ç»§ç»­å‘å‰ï¼Œä¸è¦æ€•ï¼Œæˆ‘ä¼šä¸€ç›´é™ªåœ¨ä½ èº«è¾¹ã€‚

å¤§å­¦å››å¹´çš„ç”Ÿæ´»å·²ç»æ¥è¿‘å°¾å£°ï¼Œæˆ‘ä»¬çš„å‰é€”è¿˜æ˜¯æœªåœï¼Œä¹Ÿè®¸è¦é¢å¯¹å¾ˆå¤šæŒ‘æˆ˜ï¼Œå®³æ€•æ—¶ç©ºçš„è·ç¦»ä¼šæ‹‰è¿œå¿ƒä¸å¿ƒä¹‹é—´çš„è·ç¦»ã€‚ä½†æˆ‘å§‹ç»ˆç›¸ä¿¡ï¼Œä¸€é¢—çº¯ç²¹çš„èµ¤å­ä¹‹å¿ƒï¼Œä¼šå¸¦é¢†æˆ‘ä»¬èµ°å‘æ›´å¥½çš„æ˜å¤©ã€‚

æˆ‘ä¸€ç›´åŠªåŠ›åœ¨å‘ä½ é è¿‘ï¼Œå¸Œæœ›æˆä¸ºä¸€ä¸ªä½ å¯ä»¥ä¾é çš„äººã€‚äººç”Ÿæ€»ä¸æ˜¯ä¸€å¸†é£é¡ºçš„ï¼ŒæˆåŠŸçš„è·¯ä¸Šå†ç»é‡é‡åå·ã€‚ä½†æˆ‘é«˜å…´çš„æ˜¯ï¼Œäººç”Ÿç»ˆç©¶è¿˜æ˜¯æ—·é‡ï¼Œå­¦ä¸šæ¡†ä¸ä½çš„ï¼Œæ‰æ˜¯çœŸæ­£çš„è‡ªå·±ã€‚å‘½è¿å¦‚ç‹‚é£æš´é›¨å¸­å·è€Œæ¥æ—¶ï¼Œä»ç„¶åšæŒåšè‡ªå·±ã€‚

ä¸€è·¯åŒè¡Œï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨è·¯ä¸Šï¼Œå¥”å‘æˆ‘ä»¬çš„æ¢¦ã€‚æƒ³æ¥æƒ³å»ä¹Ÿä¸çŸ¥é“è¯´äº†äº›ä»€ä¹ˆã€‚æ€»å½’å°±æ˜¯å¾ˆæƒ³ä½ ï¼Œä»€ä¹ˆæ—¶å€™å¯ä»¥ä¸€ç›´å¾…åœ¨ä¸€èµ·ï¼Œä»€ä¹ˆéƒ½ä¸ç”¨åšï¼Œåªæ˜¯å¾…ç€å°±å¾ˆå¥½ã€‚

æƒ³ä½ çš„çŒªçŒª`;
            
            let i = 0;
            letterContent.innerHTML = '';
            
            function typeWriter() {
                if (i < text.length) {
                    // å¤„ç†æ¢è¡Œç¬¦
                    if (text.charAt(i) === '\n') {
                        letterContent.innerHTML += '<br>';
                    } else {
                        letterContent.innerHTML += text.charAt(i);
                    }
                    i++;
                    setTimeout(typeWriter, 50); // è°ƒæ•´æ‰“å­—é€Ÿåº¦
                }
            }
            
            typeWriter();
        }
        
        // éŸ³ä¹æ§åˆ¶
        document.getElementById('toggleMusic').addEventListener('click', function() {
            if (isMusicPlaying) {
                backgroundMusic.pause();
                isMusicPlaying = false;
                this.textContent = 'æ’­æ”¾éŸ³ä¹';
            } else {
                backgroundMusic.play().then(() => {
                    isMusicPlaying = true;
                    this.textContent = 'æš‚åœéŸ³ä¹';
                }).catch(e => {
                    console.log('éŸ³ä¹æ’­æ”¾å¤±è´¥:', e);
                    alert('éŸ³ä¹æ’­æ”¾å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨');
                });
            }
        });
        
        // ä¸»é¡µæŒ‰é’®äº‹ä»¶
        document.getElementById('startJourneyBtn').onclick = function() {
            // éšè—ä¸»é¡µ
            document.getElementById('homeSection').style.display = 'none';
            // æ˜¾ç¤ºäº’åŠ¨åŒºåŸŸå’Œæ­¥éª¤æŒ‡ç¤ºå™¨
            document.querySelector('.experience-section').style.display = 'flex';
            document.getElementById('stepIndicator').style.display = 'flex';
            // æ˜¾ç¤ºç¬¬ä¸€æ­¥
            showStep(1);
            createHearts();
        };
        
        // äº’åŠ¨æ­¥éª¤æŒ‰é’®äº‹ä»¶
        document.getElementById('startInteractiveJourneyBtn').onclick = function() {
            showStep(2);
            createHearts();
        };
        
        document.getElementById('nextToStep3').onclick = function() {
            showStep(3);
            createHearts();
        };
        
        document.getElementById('nextToStep4').onclick = function() {
            showStep(4);
            createHearts();
        };
        
        document.getElementById('nextToStep5').onclick = function() {
            showStep(5);
            createHearts();
        };
        
        document.getElementById('nextToStep6').onclick = function() {
            showStep(6);
            createHearts();
        };
        
        document.getElementById('nextToStep7').onclick = function() {
            showStep(7);
            createHearts();
        };
        
        document.getElementById('nextToStep8').onclick = function() {
            showStep(8);
            createHearts();
        };
        
        document.getElementById('nextToStep9').onclick = function() {
            showStep(9);
            createHearts();
        };
        
        document.getElementById('finishJourney').onclick = function() {
            // åœæ­¢å½“å‰æ’­æ”¾çš„è§†é¢‘
            currentVideos.forEach(video => {
                if (video) {
                    video.pause();
                }
            });
            currentVideos = [];
            
            // åœæ­¢èƒŒæ™¯éŸ³ä¹
            backgroundMusic.pause();
            isMusicPlaying = false;
            
            // éšè—æ‰€æœ‰äº’åŠ¨å†…å®¹
            document.querySelector('.experience-section').style.display = 'none';
            document.getElementById('stepIndicator').style.display = 'none';
            
            // æ˜¾ç¤ºä¸»é¡µ
            document.getElementById('homeSection').style.display = 'flex';
            
            // é‡ç½®æ­¥éª¤æŒ‡ç¤ºå™¨
            updateStepIndicator(1);
            currentStep = 1;
        };
        
        // åˆ›å»ºé£˜å¿ƒåŠ¨ç”»
        function createHearts() {
            const heartsContainer = document.createElement('div');
            heartsContainer.className = 'floating-hearts';
            document.body.appendChild(heartsContainer);
            
            for (let i = 0; i < 10; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.innerHTML = 'â¤';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
                heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
                heart.style.opacity = Math.random() * 0.5 + 0.5;
                heartsContainer.appendChild(heart);
            }
            
            // 5ç§’åç§»é™¤
            setTimeout(() => {
                document.body.removeChild(heartsContainer);
            }, 5000);
        }
        
        // éšè—APIæ¥å£åŠŸèƒ½ï¼ˆä»…ä¾›å¼€å‘è€…ä½¿ç”¨ï¼‰
        document.getElementById('addPresetPhoto').onclick = function() {
            const gallery = document.getElementById('exploreGallery');
            const newItem = document.createElement('div');
            newItem.className = 'gallery-item';
            newItem.innerHTML = `<img src="${this.dataset.src}" alt="${this.dataset.caption}">`;
            gallery.appendChild(newItem);
            newItem.style.animation = 'fadeIn 0.5s';
        };
        
        document.getElementById('addPresetMessage').onclick = function() {
            // ç”±äºç§»é™¤äº†ç•™è¨€éƒ¨åˆ†ï¼Œæ­¤åŠŸèƒ½æš‚æ—¶ä¿ç•™ä½†ä¸æ‰§è¡Œå…·ä½“æ“ä½œ
            alert('ç•™è¨€åŠŸèƒ½å·²ç§»é™¤');
        };
        
        document.getElementById('clearAllPhotos').onclick = function() {
            const gallery = document.getElementById('exploreGallery');
            gallery.innerHTML = '';
        };
        
        document.getElementById('clearAllMessages').onclick = function() {
            // ç”±äºç§»é™¤äº†ç•™è¨€éƒ¨åˆ†ï¼Œæ­¤åŠŸèƒ½æš‚æ—¶ä¿ç•™ä½†ä¸æ‰§è¡Œå…·ä½“æ“ä½œ
            alert('ç•™è¨€åŠŸèƒ½å·²ç§»é™¤');
        };
        
        document.getElementById('updateStartDate').onclick = function() {
            // è¿™é‡Œå¯ä»¥å®ç°æ›´æ–°èµ·å§‹æ—¥æœŸçš„é€»è¾‘
            alert('èµ·å§‹æ—¥æœŸå·²æ›´æ–°ä¸º: ' + this.dataset.date);
        };
        
        // æ¯ç§’æ›´æ–°ä¸€æ¬¡è®¡æ—¶å™¨
        setInterval(updateLoveCounter, 1000);
        updateLoveCounter(); // åˆå§‹è°ƒç”¨
    </script>
</body>
</html>